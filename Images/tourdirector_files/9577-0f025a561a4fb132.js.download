(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9577],{77230:function(e,t,l){"use strict";l.d(t,{Ei:function(){return useWishlist},E6:function(){return useYouTubeVideoData}}),l(43294);var i,o,r=l(1422);(i=o||(o={})).Added="Added",i.Removed="Removed";let useWishlist=function(){var e;let{customerId:t,onWishlistChanged:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i,{loading:o}]=(0,r.UcQ)(),[n,{loading:u}]=(0,r.cax)(),{data:d,loading:a}=(0,r.cdN)({variables:{customerId:null!=t?t:""},ssr:!1,skip:!t}),c=u||o,s=null!==(e=null==d?void 0:d.tourWishlist.results.map(e=>e.tourCode))&&void 0!==e?e:[],removeFromWishlist=async(e,i)=>{var o;let u=null!==(o=null!=i?i:t)&&void 0!==o?o:"";if(!u)throw Error("Customer id was not found.");let d=e.map(e=>n({variables:{tourCode:e,customerId:u},refetchQueries:[{query:r.XrO,variables:{customerId:u}}]}));await Promise.all(d),null==l||l(e,"Removed")},addToWishlist=async(e,o)=>{var n;let u=null!==(n=null!=o?o:t)&&void 0!==n?n:"";if(!u)throw Error("Customer id was not found.");i({variables:{tourCodes:e,customerId:u},refetchQueries:[{query:r.XrO,variables:{customerId:u}}]}),null==l||l(e,"Added")},isOnWishlist=e=>e.every(e=>s.includes(e));return{wishlistItems:s,isUpdating:c,isLoading:a,removeFromWishlist,addToWishlist,isOnWishlist,async toggleWishlist(e,t){c||a||(isOnWishlist(e)?await removeFromWishlist(e,t):await addToWishlist(e,t))}}};var n=l(52903),u=l(46858),d=l(2784);let useYouTubeVideoData=(e,t)=>{let l=new RegExp(/(?:youtube\.com.*v=|youtu\.be\/)([^?&\n]+)/i),i={videoId:"",videoIframe:(0,n.tZ)(d.Fragment,{})};if(l.test(e)){var o;let r=(null===(o=e.match(l))||void 0===o?void 0:o[1])||"",d=(0,n.tZ)("iframe",{title:t,css:{display:"grid",height:315,width:"100%",overflow:"hidden",[u.w5.sm]:{width:560}},src:"https://www.youtube.com/embed/".concat(r,"?autoplay=1"),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0});i={videoId:r,videoIframe:d}}return i}},69577:function(e,t,l){"use strict";l.d(t,{t:function(){return YoutubeVideo},v:function(){return YoutubeVideoSlider}});var i=l(52903),o=l(26052),r=l(2784),n=l(77230),u=l(5152),d=l.n(u);let a=d()(()=>l.e(2570).then(l.bind(l,2570)),{loadableGenerated:{webpack:()=>[2570]}}),YoutubeInline=e=>{let{youtubeUrl:t,visible:l,onPlay:o}=e,{videoId:r}=(0,n.E6)(t);return l?(0,i.tZ)("div",{css:{position:"absolute",left:0,right:0,top:0,bottom:0},children:!!r&&(0,i.tZ)(a,{css:{position:"absolute",left:0,right:0,top:0,bottom:0},videoId:r,onReady:e=>e.target.playVideo(),onPlay:o,opts:{height:"100%",width:"100%",playerVars:{autoplay:1}}})}):null};var c=l(97826),s=l(51779),v=l(34543),h=l(99367);let YoutubeOverlay=e=>{let{visible:t,coverImage:l,onClick:o}=e;if(!t)return null;let r=(0,h.We)(l,{size:{width:700}});return(0,i.BX)("div",{css:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.tZ)(c.z,{color:"rgba(0, 0, 0, 0.7)",shape:"circle",css:{zIndex:1,border:"none",height:48,width:48},onClick:o,children:(0,i.tZ)(v.KCr,{size:18})}),(0,i.tZ)(s.E,{src:l?r:void 0,sources:[{type:"image/webp",srcSet:(0,h.We)(l,{fileType:"webp",size:{width:700}})}],css:{position:"absolute",left:0,right:0,top:0,bottom:0,objectFit:"cover",objectPosition:"50% 50%",width:"100%",height:"100%"}})]})},YoutubeVideo=e=>{let{coverImage:t,youtubeUrl:l,uploadDate:n,name:u,description:d,onPlay:a}=e,[c,s]=(0,r.useState)(!1);return(0,i.BX)("div",{itemScope:!0,itemType:"https://schema.org/VideoObject",css:{paddingTop:"56.25%",backgroundColor:o.f0,position:"relative"},children:[(0,i.tZ)("meta",{itemProp:"name",content:u}),(0,i.tZ)("meta",{itemProp:"description",content:d}),(0,i.tZ)("meta",{itemProp:"thumbnailUrl",content:t}),(0,i.tZ)("meta",{itemProp:"uploadDate",content:n}),(0,i.tZ)(YoutubeOverlay,{onClick:()=>s(!0),visible:!c&&!!t,coverImage:null!=t?t:""}),(0,i.tZ)(YoutubeInline,{youtubeUrl:null!=l?l:"",visible:c&&!!l,onPlay:a})]})};var p=l(2397),m=l(46858),f=l(42709);let b=(0,p.Z)("div",{target:"e1qbsjth0"})({height:162,width:288,[m.w5.md]:{height:288,width:512}}),YoutubeVideoSlider=e=>{let{videos:t,className:l}=e,o=(0,r.useRef)(null);return(0,i.tZ)(f.i,{className:l,children:t.map((e,t)=>{var l,r,n,u,d,a;return(0,i.tZ)(b,{children:(0,i.tZ)(YoutubeVideo,{name:null!==(r=e.name)&&void 0!==r?r:"",description:null!==(n=e.description)&&void 0!==n?n:"",uploadDate:null!==(u=e.uploadDate)&&void 0!==u?u:"",coverImage:null!==(d=null===(l=e.coverImage)||void 0===l?void 0:l.image)&&void 0!==d?d:"",youtubeUrl:null!==(a=e.youtubeUrl)&&void 0!==a?a:"",onPlay:e=>{var l,i,r;let{target:n}=e;t!==(null===(l=o.current)||void 0===l?void 0:l.index)&&(null===(r=o.current)||void 0===r||null===(i=r.target)||void 0===i||i.pauseVideo(),o.current={target:n,index:t})}})},e.youtubeUrl)})})}},42709:function(e,t,l){"use strict";l.d(t,{i:function(){return Slider}});var i=l(52903),o=l(2397),r=l(36386),n=l(2784),u=l(28165),d=l(34543),a=l(46858),c=l(26052),s=l(97826);let v=(0,u.F4)("0%{transform:scale(0);}100%{transform:scale(1);}"),h=(0,o.Z)(s.z,{target:"eq5dqee0"})({boxShadow:"0 2px 10px 0 rgba(0, 0, 0, 0.1)",position:"absolute",top:"calc(50% - 24px)",animation:"".concat(v," 200ms ease-out"),display:"none","&:focus":{boxShadow:"0 2px 10px 0 rgba(0, 0, 0, 0.1)"},[a.w5.md]:{display:"inline-flex"},zIndex:2},e=>{let{direction:t}=e;return{left:"previous"===t?-16:void 0,right:"next"===t?-16:void 0}}),SliderButton=e=>{let{visible:t,direction:l,ref:o,...r}=e;return t?(0,i.tZ)(h,{...r,direction:l,shape:"circle",color:c.ix,icon:"next"===l?(0,i.tZ)(d.Tfp,{}):(0,i.tZ)(d.YFh,{}),shouldScale:!1}):null},p=(0,o.Z)("div",{target:"e2f27yp0"})(e=>{let{paddingSize:t}=e;return{padding:"0 ".concat(t,"px")}}),m=(0,o.Z)("div",{target:"e2f27yp1"})({position:"relative"}),f=(0,o.Z)("div",{target:"e2f27yp2"})({display:"grid",overflowX:"auto","::-webkit-scrollbar":{width:0},scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth",alignItems:"stretch",justifyContent:"flex-start"},e=>{let{nbItems:t,itemWidth:l}=e;return{padding:"16px 0px",gridTemplateColumns:"repeat(".concat(t,", ").concat(l,")")}}),Slider=e=>{let{children:t,onSlide:l,gap:o=16,itemWidth:u="auto",className:d}=e,[a,c]=(0,n.useState)({canGoNext:!1,canGoPrev:!1}),[s,v]=(0,n.useState)(0),h=(0,n.useRef)(),b=(0,r.debounce)(e=>{var t;let i=(null==e?void 0:e.scrollLeft)>s?"right":"left",o=null!==(t=e.scrollLeft)&&void 0!==t?t:0;o!==s&&(null==l||l(e,i,s,o));let r=o+(null==e?void 0:e.clientWidth)<(null==e?void 0:e.scrollWidth),n=0!==o;c({canGoNext:r,canGoPrev:n}),v(o)},100);(0,n.useEffect)(()=>b(h.current),[b]);let g=n.Children.count(t),y=(0,n.useRef)(n.Children.map(null!=t?t:[],()=>(0,n.createRef)()));(0,n.useEffect)(()=>{y.current=n.Children.map(null!=t?t:[],()=>(0,n.createRef)())},[t]);let w=0===o?0:o/2;return(0,i.BX)(m,{className:d,children:[(0,i.tZ)(SliderButton,{direction:"previous",visible:a.canGoPrev,onClick:()=>{var e,t,l,i,o,r,n,u;let d=null===(e=y.current)||void 0===e?void 0:e.filter(e=>{var t,l,i,o;let r=null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect(),n=null===(l=e.current)||void 0===l?void 0:l.getBoundingClientRect(),u=(null!==(i=null==n?void 0:n.left)&&void 0!==i?i:0)-(null!==(o=null==r?void 0:r.left)&&void 0!==o?o:0);return u<0}),a=d.reverse()[0];(null==a?void 0:a.current)?null===(i=h.current)||void 0===i||i.scrollTo((null!==(o=null===(t=a.current)||void 0===t?void 0:t.offsetLeft)&&void 0!==o?o:0)-(null!==(r=h.current.clientWidth)&&void 0!==r?r:0)+(null!==(n=null===(l=a.current)||void 0===l?void 0:l.clientWidth)&&void 0!==n?n:0),0):null===(u=h.current)||void 0===u||u.scrollTo(0,0)}}),(0,i.tZ)(f,{itemWidth:u,nbItems:g,ref:h,onScroll:e=>b(e.currentTarget),children:n.Children.map(t,(e,t)=>e?(0,i.tZ)(p,{ref:y.current[t],paddingSize:w,className:"gat--slider-item",children:e}):null)}),(0,i.tZ)(SliderButton,{direction:"next",visible:a.canGoNext,onClick:()=>{var e,t,l;let i=y.current.filter(e=>{var t,l,i,o;let r=null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect(),n=null===(l=e.current)||void 0===l?void 0:l.getBoundingClientRect(),u=(null!==(i=null==n?void 0:n.right)&&void 0!==i?i:0)-(null!==(o=null==r?void 0:r.right)&&void 0!==o?o:0);return u>0}),o=i[0];(null==o?void 0:o.current)?null===(e=h.current)||void 0===e||e.scrollTo(o.current.offsetLeft,0):null===(t=h.current)||void 0===t||t.scroll(null!==(l=h.current.scrollWidth)&&void 0!==l?l:0,0)}})]})}},36386:function(e){function debounce(e,t,l){function later(){var d=Date.now()-n;d<t&&d>=0?i=setTimeout(later,t-d):(i=null,l||(u=e.apply(r,o),r=o=null))}null==t&&(t=100);var i,o,r,n,u,debounced=function(){r=this,o=arguments,n=Date.now();var d=l&&!i;return i||(i=setTimeout(later,t)),d&&(u=e.apply(r,o),r=o=null),u};return debounced.clear=function(){i&&(clearTimeout(i),i=null)},debounced.flush=function(){i&&(u=e.apply(r,o),r=o=null,clearTimeout(i),i=null)},debounced}debounce.debounce=debounce,e.exports=debounce}}]);